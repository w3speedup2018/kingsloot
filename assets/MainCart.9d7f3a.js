"use strict";(self.webpackChunkjuno_shopify_template=self.webpackChunkjuno_shopify_template||[]).push([[7740],{8305:(t,e,i)=>{i.r(e),i.d(e,{Cart:()=>s});var n=i(9552),a=i(782);class s{constructor(t){this.fetchCart=()=>{fetch("/cart").then((t=>{t.text().then((t=>{this.renderCart(t)})).catch((t=>{console.warn("response.text error: ",t)}))})).catch((t=>console.warn("Something went wrong.",t)))},this.cart=t,this.bindListener()}bindListener(){new n.h(this.cart),new a.J(this.cart,this.fetchCart)}}},9552:(t,e,i)=>{i.d(e,{h:()=>s});var n=i(8883),a=i(6282);class s{constructor(t,e){this.cart=t,this.fetchCart=e,this.bindListener()}bindListener(){this.updateQty()}updateQty(){this.items=(0,n.go)(".js-cart-item",this.cart),this.items.forEach((t=>{const e=(0,n.U2)(".js-qty-minus",t),i=(0,n.U2)(".js-qty-plus",t),a=(0,n.U2)(".js-qty-value",t),s=a.getAttribute("data-id");e.addEventListener("click",(()=>{this.fetchCart?this.minusQuantity(s,a,this.fetchCart):this.minusQuantity(s,a),window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&"function"==typeof BOLD.common.eventEmitter.emit&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded")})),i.addEventListener("click",(()=>{this.fetchCart?this.plusQuantity(s,a,this.fetchCart):this.plusQuantity(s,a),window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&"function"==typeof BOLD.common.eventEmitter.emit&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded")})),a.addEventListener("change",(t=>{this.fetchCart?this.setQuantity(s,t.target.value,this.fetchCart):this.setQuantity(s,t.target.value)}))}))}setQuantity(t,e,i){(0,a.J8)({id:t,quantity:e}).then((()=>{i?i():window.location.reload()})).catch((t=>{console.warn("Error with setQuantity: ",t)}))}plusQuantity(t,e,i){e.value++,(0,a.J8)({id:t,quantity:e.value}).then((()=>{i?i():window.location.reload()})).catch((t=>{console.warn("Error with plusQuantity: ",t)}))}minusQuantity(t,e,i){e.value>=1&&(e.value--,(0,a.J8)({id:t,quantity:e.value}).then((()=>{i?i():window.location.reload()})).catch((t=>{console.warn("Error with minusQuantity: ",t)})))}}},782:(t,e,i)=>{i.d(e,{J:()=>s});var n=i(8883),a=i(6282);class s{constructor(t,e){this.bindListener=()=>{this.items.forEach((t=>{const e=(0,n.U2)(".js-remove-item",t);e.addEventListener("click",(i=>{i.preventDefault(),this.removeItem(t,e.dataset.id)}))}))},this.removeItem=(t,e)=>{(0,a.J8)({id:e,quantity:0}).then((()=>{window.location.reload()})).catch((t=>{console.warn("Error with removeItem: ",t)})),t.remove()},this.cart=t,this.items=(0,n.go)(".js-cart-item",this.cart),this.fetchCart=e,this.bindListener()}}},6282:(t,e,i)=>{i.d(e,{J8:()=>n});async function n(t){return fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}}}]);