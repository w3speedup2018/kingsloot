"use strict";(self.webpackChunkjuno_shopify_template=self.webpackChunkjuno_shopify_template||[]).push([[4186],{909:(t,e,n)=>{n.r(e),n.d(e,{MiniCart:()=>l});var i=n(8883),r=n(9552),a=n(1637),s=n(4454),o=n(782),c=n(7947),h=n(1238);class l{constructor(t){this.initCart=()=>{(0,s.h)(this.element,this.openTrigger),(0,s.M)(this.element),new r.h(this.element,this.fetchCart),new o.J(this.element,this.fetchCart),new c.$(this.element,this.fetchCart),new h.c(this.element,this.fetchCart)},this.fetchCart=()=>{fetch("/cart").then((t=>{t.text().then((t=>{this.renderCart(t)})).catch((t=>{console.warn("response.text error: ",t)}))})).catch((t=>console.warn("Something went wrong.",t)))},this.renderCart=t=>{const e=(new DOMParser).parseFromString(t,"text/html"),n=(0,i.U2)(".js-mini-cart",e);this.element.innerHTML=n.innerHTML,this.initCart(),(0,a.h)(),window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&"function"==typeof BOLD.common.eventEmitter.emit&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded")},this.element=t,this.openTrigger=(0,i.U2)(".js-minicart-trigger",document),this.container=(0,i.U2)(".js-mini-cart",this.element),this.openTrigger&&this.bindEvents()}bindEvents(){(0,s.h)(this.element,this.openTrigger),(0,s.M)(this.element),new r.h(this.element,this.fetchCart),new o.J(this.element,this.fetchCart),new c.$(this.element,this.fetchCart),new h.c(this.element,this.fetchCart)}}},1637:(t,e,n)=>{n.d(e,{h:()=>r});var i=n(8883);const r=()=>{const t=(0,i.U2)(".js-minicart-count",document);fetch("/cart.js").then((t=>t.json())).then((e=>{t.innerHTML=e.item_count}))}},4454:(t,e,n)=>{n.d(e,{M:()=>s,h:()=>a});var i=n(8883),r=n(4920);const a=(t,e)=>{e&&e.addEventListener("click",(e=>{e.preventDefault(),t.classList.add("is-active")}))},s=t=>{const e=(0,i.U2)(".modal_close",t);e&&e.addEventListener("click",(e=>{e.preventDefault(),t.classList.remove("is-active"),(void 0).overlay.classList.remove("is-active"),document.querySelector(".c-model__overlay").classList.remove("is-active"),r.A(),console.log("default modal here"),document.querySelector("body").style.overflowY="auto"}))}},9552:(t,e,n)=>{n.d(e,{h:()=>a});var i=n(8883),r=n(6282);class a{constructor(t,e){this.cart=t,this.fetchCart=e,this.bindListener()}bindListener(){this.updateQty()}updateQty(){this.items=(0,i.go)(".js-cart-item",this.cart),this.items.forEach((t=>{const e=(0,i.U2)(".js-qty-minus",t),n=(0,i.U2)(".js-qty-plus",t),a=(0,i.U2)(".js-qty-value",t),s=a.getAttribute("data-id"),o=(0,i.U2)(".custom-product",t);(0,i.U2)(".p_variant_id",t);e.addEventListener("click",(()=>{if(o){var e=!1,n=(0,i.U2)(".font_value",t).textContent,c=(0,i.U2)(".letter_value",t).textContent;this.items.forEach((t=>{var o=(0,i.U2)(".p_variant_id",t);if(o){var h=o.textContent.replace(/\n/g,""),l=(0,i.U2)(".font_value",t).textContent,u=(0,i.U2)(".letter_value",t).textContent,d=(0,i.U2)(".product_title",t).textContent.replace(/\n/g,"");if(s==h&&n==l&&c==u){e=!0;var m=(0,i.U2)(".js-qty-value",t),v=m.getAttribute("data-id");m.value>=1&&(m.value--,(0,r.J8)({id:v,quantity:m.value,properties:{product_title:d,product_variant:+h,font:l.replace(/\n/g,""),letter:u.replace(/\n/g,"")}}).then((()=>{a.value--,(0,r.J8)({id:s,quantity:a.value,properties:{customize_font:n.replace(/\n/g,""),customize_letter:c.replace(/\n/g,"")}}).then((()=>{this.fetchCart()})).catch((t=>{console.warn("Error with minusQuantity: ",t)}))})).catch((t=>{console.warn("Error with minusQuantity: ",t)})))}}})),0==e&&(this.fetchCart?this.minusQuantity(s,a,this.fetchCart):this.minusQuantity(s,a))}else this.fetchCart?this.minusQuantity(s,a,this.fetchCart):this.minusQuantity(s,a);window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&"function"==typeof BOLD.common.eventEmitter.emit&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded")})),n.addEventListener("click",(()=>{if(o){var e=(0,i.U2)(".font_value",t).textContent,n=(0,i.U2)(".letter_value",t).textContent;this.items.forEach((t=>{var o=(0,i.U2)(".p_variant_id",t);if(o){var c=o.textContent.replace(/\n/g,""),h=(0,i.U2)(".font_value",t).textContent,l=(0,i.U2)(".letter_value",t).textContent,u=(0,i.U2)(".product_title",t).textContent.replace(/\n/g,"");if(s==c&&e==h&&n==l){var d=(0,i.U2)(".js-qty-value",t),m=d.getAttribute("data-id");d.value>=1&&(d.value++,(0,r.J8)({id:m,quantity:d.value,properties:{product_title:u,product_variant:+c,font:h.replace(/\n/g,""),letter:l.replace(/\n/g,"")}}).then((()=>{a.value++,(0,r.J8)({id:s,quantity:a.value,properties:{customize_font:e.replace(/\n/g,""),customize_letter:n.replace(/\n/g,"")}}).then((()=>{this.fetchCart()})).catch((t=>{console.warn("Error with PlusQuantity: ",t)}))})).catch((t=>{console.warn("Error with PlusQuantity: ",t)})))}}}))}else this.fetchCart?this.plusQuantity(s,a,this.fetchCart):this.plusQuantity(s,a);window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&"function"==typeof BOLD.common.eventEmitter.emit&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded")})),a.addEventListener("change",(t=>{this.fetchCart?this.setQuantity(s,t.target.value,this.fetchCart):this.setQuantity(s,t.target.value)}))}))}setQuantity(t,e,n){(0,r.J8)({id:t,quantity:e}).then((()=>{n?n():window.location.reload()})).catch((t=>{console.warn("Error with setQuantity: ",t)}))}plusQuantity(t,e,n){e.value++,(0,r.J8)({id:t,quantity:e.value}).then((()=>{n?n():window.location.reload()})).catch((t=>{console.warn("Error with plusQuantity: ",t)}))}minusQuantity(t,e,n){e.value>=1&&(e.value--,(0,r.J8)({id:t,quantity:e.value}).then((()=>{n?n():window.location.reload()})).catch((t=>{console.warn("Error with minusQuantity: ",t)})))}}},782:(t,e,n)=>{n.d(e,{J:()=>a});var i=n(8883),r=n(6282);class a{constructor(t,e){this.bindListener=()=>{this.items.forEach((t=>{const e=(0,i.U2)(".js-remove-item",t),n=(0,i.U2)(".custom-product",t);e.addEventListener("click",(a=>{const s=(0,i.U2)(".js-qty-value",t).getAttribute("data-id");if((0,i.U2)(".font_value",t))var o=(0,i.U2)(".font_value",t).textContent;if((0,i.U2)(".letter_value",t))var c=(0,i.U2)(".letter_value",t).textContent;n?this.items.forEach((n=>{var a=(0,i.U2)(".p_variant_id",n);if(a){var h=a.textContent.replace(/\n/g,""),l=(0,i.U2)(".font_value",n).textContent,u=(0,i.U2)(".letter_value",n).textContent;(0,i.U2)(".product_title",n).textContent.replace(/\n/g,"");const d=(0,i.U2)(".js-remove-item",n);s==h&&o==l&&c==u&&((0,r.J8)({id:d.dataset.id,quantity:0}).then((()=>{this.removeItem(t,e.dataset.id)})).catch((t=>{console.warn("Error with removeItem: ",t)})),n.remove())}})):(a.preventDefault(),this.removeItem(t,e.dataset.id))}))}))},this.removeItem=(t,e)=>{(0,r.J8)({id:e,quantity:0}).then((()=>{this.fetchCart()})).catch((t=>{console.warn("Error with removeItem: ",t)})),t.remove()},this.cart=t,this.items=(0,i.go)(".js-cart-item",this.cart),this.fetchCart=e,this.bindListener()}}},1238:(t,e,n)=>{n.d(e,{c:()=>s});var i=n(7462),r=n(8883),a=n(3374);class s{constructor(t,e){this.bindListener=()=>{this.items.forEach((t=>{const e=(0,r.U2)(".js-product-form-submit",t);e.addEventListener("click",(t=>{t.preventDefault();var n=e.closest(".js-product-form");e.setAttribute("disabled",!0),e.innerHTML="Adding",this.submitData(n)}))}))},this.cart=t,this.items=(0,r.go)(".upsell_section_product",this.cart),this.fetchCart=e,this.bindListener()}submitData(t){var e=(0,r.U2)(".js-product-form-submit",this.cart);const n=JSON.stringify((0,i.Z)({},JSON.parse((0,a.N)(t)),{sections_url:window.location.pathname}));fetch(`${routes.cart_add_url}`,(0,i.Z)({},(0,a.Q)("javascript"),{body:n})).then((t=>t.json())).then((()=>this.fetchCart())).catch((t=>console.error(t))).finally((()=>{e.innerHTML="Added"}))}}},7947:(t,e,n)=>{n.d(e,{$:()=>r});var i=n(8883);class r{constructor(t,e){this.bindListener=()=>{this.items.forEach((t=>{const e=(0,i.go)(".js-product-variant",t);e.forEach((t=>{t.addEventListener("click",(n=>{const r=t.getAttribute("data-product-id");var a=t.closest(".js-product-form");(0,i.U2)(".c-product__variantId",a).value=r;const s=t.getAttribute("data-img-url");if(e.forEach((t=>{t.classList.remove("active")})),t.classList.add("active"),null!=s&&""!=s){const e=(0,i.U2)(".c-product-card__image.first-image",t.parentNode.parentNode.parentNode.parentNode);e.innerHTML="";const n=`\n                            <img src="${s}" class="o-img o-img--cover  o-ar__item"/>\n                        `;e.innerHTML=n}}))}))}))},this.cart=t,this.items=(0,i.go)(".upsell_section_product",this.cart),this.fetchCart=e,this.bindListener()}}},4920:(t,e,n)=>{n.d(e,{A:()=>s,d:()=>a});const i=document.body;let r={};function a(){const{style:t}=i;r={overflowY:t.overflowY,minHeight:t.minHeight,maxHeight:"auto"},Object.assign(i.style,{overflowY:"hidden",minHeight:"100vh",maxHeight:"100vh"})}function s(){Object.assign(i.style,r)}},3374:(t,e,n)=>{function i(t){const e={},n=new FormData(t);for(const t of n.keys())e[t]=n.get(t);return JSON.stringify(e)}function r(t="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${t}`}}}n.d(e,{N:()=>i,Q:()=>r})},6282:(t,e,n)=>{n.d(e,{J8:()=>i});async function i(t){return fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}},7462:(t,e,n)=>{function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}n.d(e,{Z:()=>i})}}]);