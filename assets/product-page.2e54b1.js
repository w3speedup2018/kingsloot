"use strict";(self.webpackChunkjuno_shopify_template=self.webpackChunkjuno_shopify_template||[]).push([[387],{1637:(t,e,i)=>{i.d(e,{h:()=>s});var n=i(8883);const s=()=>{const t=(0,n.U2)(".js-minicart-count",document);fetch("/cart.js").then((t=>t.json())).then((e=>{t.innerHTML=e.item_count}))}},4454:(t,e,i)=>{i.d(e,{M:()=>a,h:()=>s});var n=i(8883);const s=(t,e)=>{e&&e.addEventListener("click",(e=>{e.preventDefault(),t.classList.add("is-active")}))},a=t=>{const e=(0,n.U2)(".js-minicart-close",t);e&&e.addEventListener("click",(()=>{t.classList.remove("is-active")}))}},9552:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(8883),s=i(6282);class a{constructor(t,e){this.cart=t,this.fetchCart=e,this.bindListener()}bindListener(){this.updateQty()}updateQty(){this.items=(0,n.go)(".js-cart-item",this.cart),this.items.forEach((t=>{const e=(0,n.U2)(".js-qty-minus",t),i=(0,n.U2)(".js-qty-plus",t),s=(0,n.U2)(".js-qty-value",t),a=s.getAttribute("data-id");e.addEventListener("click",(()=>{this.fetchCart?this.minusQuantity(a,s,this.fetchCart):this.minusQuantity(a,s),window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&"function"==typeof BOLD.common.eventEmitter.emit&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded")})),i.addEventListener("click",(()=>{this.fetchCart?this.plusQuantity(a,s,this.fetchCart):this.plusQuantity(a,s),window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&"function"==typeof BOLD.common.eventEmitter.emit&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded")})),s.addEventListener("change",(t=>{this.fetchCart?this.setQuantity(a,t.target.value,this.fetchCart):this.setQuantity(a,t.target.value)}))}))}setQuantity(t,e,i){(0,s.J8)({id:t,quantity:e}).then((()=>{i?i():window.location.reload()})).catch((t=>{console.warn("Error with setQuantity: ",t)}))}plusQuantity(t,e,i){e.value++,(0,s.J8)({id:t,quantity:e.value}).then((()=>{i?i():window.location.reload()})).catch((t=>{console.warn("Error with plusQuantity: ",t)}))}minusQuantity(t,e,i){e.value>=1&&(e.value--,(0,s.J8)({id:t,quantity:e.value}).then((()=>{i?i():window.location.reload()})).catch((t=>{console.warn("Error with minusQuantity: ",t)})))}}},3905:(t,e,i)=>{i.r(e),i.d(e,{Product:()=>u});var n=i(8883),s=i(2768),a=i(7462);var r=i(9552),c=i(1637),o=i(4454);class h{constructor(t){this.fetchNewCart=()=>{fetch("/cart").then((t=>t.text())).then((t=>this.renderCart(t))).catch((t=>console.warn("Something went wrong.",t)))},this.element=t,this.submit=(0,n.U2)(".js-product-form-submit",this.element),this.cartTrigger=(0,n.U2)(".c-mini-cart__trigger",document),this.openTrigger=(0,n.U2)(".c-mini-cart__trigger",document),this.miniCart=(0,n.U2)("mini-cart",document),this.bindEvents()}bindEvents(){this.element.addEventListener("submit",(t=>{t.preventDefault(),this.onSubmitHandler()}))}onSubmitHandler(){this.submit.setAttribute("disabled",!0),this.submit.innerHTML="Adding",this.submitData()}submitData(){const t=JSON.stringify((0,a.Z)({},JSON.parse(function(t){const e={},i=new FormData(t);for(const t of i.keys())e[t]=i.get(t);return JSON.stringify(e)}(this.element)),{sections_url:window.location.pathname}));fetch(`${routes.cart_add_url}`,(0,a.Z)({},function(t="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${t}`}}}("javascript"),{body:t})).then((t=>t.json())).then((()=>this.fetchCart())).catch((t=>console.error(t))).finally((()=>{this.submit.removeAttribute("disabled"),this.submit.innerHTML="Added",this.initCart()}))}fetchCart(){fetch("/cart").then((t=>t.text())).then((t=>this.renderCart(t))).catch((t=>console.warn("Something went wrong.",t)))}renderCart(t){const e=(new DOMParser).parseFromString(t,"text/html"),i=(0,n.U2)(".js-mini-cart",e);this.miniCart.innerHTML=i.innerHTML,this.initCart(),(0,c.h)()}initCart(){(0,o.h)(this.miniCart,this.openTrigger),(0,o.M)(this.miniCart),new r.h(this.miniCart,this.fetchNewCart),this.cartTrigger.click()}}class d{constructor(t){this.element=t,this.quickLinks=(0,n.go)(".js-quick-link",this.element),this.header=(0,n.U2)(".js-header",document),this.headerHeight=this.header.offsetHeight,this.bindEvents()}bindEvents(){this.handleClick()}handleClick(){this.quickLinks.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault();const i=this.header.classList.contains("is-hidden")?30:this.headerHeight,{id:n}=t.dataset,s=document.querySelector(n);console.log("data = ",document.querySelectorAll("id-features")),s&&function(t,e,i){const n=window.pageYOffset,s=document.body.scrollHeight,{innerHeight:a}=window,r=n+i,c=n+t.getBoundingClientRect().top,o=(s-c<a?s-a:c)-r;let h;o&&window.requestAnimationFrame((function t(n){h||(h=n);const s=n-h;let a=Math.min(s/e,1);a=(t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1)(a);const c=r+o*a-i;window.scrollTo(0,c),s<e&&window.requestAnimationFrame(t)}))}(s,500,i)}))}))}}class u extends HTMLElement{constructor(){super(),this.element=this,this.addToCartForm=(0,n.U2)(".js-product-form",this.element),this.variantSelects=(0,n.go)(".js-product-variant",this.element),this.quantitySelect=(0,n.U2)(".js-product-quantity",this.element),this.prices=(0,n.go)(".js-product-price",this.element),this.priceVat=(0,n.U2)(".js-product-price-vat",this.element),this.returnToSearch=(0,n.U2)(".js-back-to-search",this.element),this.swatchLabel=(0,n.U2)(".js-swatch-value",this.element),this.accordions=(0,n.go)(".js-accordion",this.element),this.bindEvents(),this.backToSearch(),this.eventAccordion(),this.eventVariants(),this.eventQuantity()}eventQuantity(){if(this.quantitySelect){const t=(0,n.U2)(".js-qty-plus",this.quantitySelect),e=(0,n.U2)(".js-qty-minus",this.quantitySelect),i=(0,n.U2)(".js-qty-value",this.quantitySelect);let s=i.value;t.addEventListener("click",(t=>{t.preventDefault(),s++,i.value=s})),e.addEventListener("click",(t=>{t.preventDefault(),s>1&&(s--,i.value=s)}))}}eventVariants(){this.variantSelects.forEach((t=>{t.addEventListener("click",(e=>{this.variantSelects.forEach((t=>{t.classList.remove("active")})),t.classList.add("active"),this.swatchLabel&&(this.swatchLabel.innerHTML=`Color: ${t.getAttribute("data-text")}`);const i=t.getAttribute("data-product-id");(0,n.U2)(".c-product__variantId",this.addToCartForm).value=i}))}))}eventAccordion(){this.accordions.forEach((t=>{const e=(0,n.U2)(".js-accordion-trigger",t),i=(0,n.U2)(".js-accordion-content",t);e.addEventListener("click",(t=>{e.classList.contains("active")?(e.classList.remove("active"),i.classList.remove("active")):(e.classList.add("active"),i.classList.add("active"))}))}))}bindEvents(){new h(this.addToCartForm),new d(this.element),this.variantSelect&&this.variantSelect.addEventListener("change",(()=>{this.updatePrice()})),this.quantitySelect&&this.quantitySelect.addEventListener("change",(()=>{this.updatePrice()}))}updatePrice(){const t=this.variantSelect.options[this.variantSelect.selectedIndex],e=this.quantitySelect.options[this.quantitySelect.selectedIndex],i=t.dataset.price*e.value,n=i*theme.tax;this.prices.forEach((t=>{t.innerHTML=this.formatPrice(i)})),this.priceVat.innerHTML=this.formatPrice(n)}formatPrice(t){return Intl.NumberFormat(Shopify.locale,{style:"currency",currency:Shopify.currency.active,useGrouping:!0,minimumFractionDigits:2}).format(t/100)}backToSearch(){const t=(0,s.ej)("js-search-cookie");t&&(this.returnToSearch.classList.remove("is-hidden"),this.returnToSearch.href=t,this.returnToSearch.addEventListener("click",(()=>{this.removeCookie()})))}removeCookie(){(0,s.d8)("js-search-cookie","",28)}}},2768:(t,e,i)=>{function n(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=t+"="+e+";"+s+";path=/"}function s(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var s=i[n];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return""}i.d(e,{d8:()=>n,ej:()=>s})},6282:(t,e,i)=>{i.d(e,{J8:()=>n});async function n(t){return fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}},7462:(t,e,i)=>{function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n.apply(this,arguments)}i.d(e,{Z:()=>n})}}]);